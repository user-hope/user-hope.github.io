<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.17" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.58" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://github.com/user-hope/user-hope.github.io/pages/web-server/odoo/section-03/%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0.html"><meta property="og:site_name" content="Blog"><meta property="og:description" content="æ¦‚è¿° Odoo çš„ Javascript æ¡†æ¶æ˜¯ç”± js æ’ä»¶æä¾›çš„ä¸€ç»„åŠŸèƒ½æ¨¡å—, ç”¨æˆ·å¸®åŠ©æ„å»ºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ odoo åº”ç”¨ç¨‹åº, åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ç¨‹åº, é€šå¸¸æˆä¸º web å®¢æˆ·ç«¯(å¯ä»¥é€šè¿‡æµè§ˆå™¨çš„ url è®¿é—®); web å®¢æˆ·ç«¯æœ€åˆæ˜¯ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰ç±»å’Œå°éƒ¨ä»¶ç³»ç»Ÿåˆ¶ä½œçš„åº”ç”¨ç¨‹åº, ä½†æ˜¯ç°åœ¨æ­£åœ¨è¿‡æ¸¡åˆ° class ç±»å’Œ owl ä½œä¸ºç»„ä»¶çš„ç³»ç»Ÿ..."><meta property="og:type" content="article"><meta property="og:image" content="https://github.com/user-hope/user-hope.github.io/images/odoo/S21/debug.png"><meta property="og:locale" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"","image":["https://github.com/user-hope/user-hope.github.io/images/odoo/S21/debug.png"],"dateModified":null,"author":[{"@type":"Person","name":"Mr.Hope","url":"https://github.com/user-hope/user-hope.github.io"}]}</script><title>Blog</title><meta name="description" content="æ¦‚è¿° Odoo çš„ Javascript æ¡†æ¶æ˜¯ç”± js æ’ä»¶æä¾›çš„ä¸€ç»„åŠŸèƒ½æ¨¡å—, ç”¨æˆ·å¸®åŠ©æ„å»ºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ odoo åº”ç”¨ç¨‹åº, åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ç¨‹åº, é€šå¸¸æˆä¸º web å®¢æˆ·ç«¯(å¯ä»¥é€šè¿‡æµè§ˆå™¨çš„ url è®¿é—®); web å®¢æˆ·ç«¯æœ€åˆæ˜¯ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰ç±»å’Œå°éƒ¨ä»¶ç³»ç»Ÿåˆ¶ä½œçš„åº”ç”¨ç¨‹åº, ä½†æ˜¯ç°åœ¨æ­£åœ¨è¿‡æ¸¡åˆ° class ç±»å’Œ owl ä½œä¸ºç»„ä»¶çš„ç³»ç»Ÿ...">
    <link rel="preload" href="/assets/style-I_-8pyoM.css" as="style"><link rel="stylesheet" href="/assets/style-I_-8pyoM.css">
    <link rel="modulepreload" href="/assets/app-cr7GvDUH.js"><link rel="modulepreload" href="/assets/æ¡†æ¶æ¦‚è¿°.html-iPzzlZwE.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-DYV_mquw.js" as="script"><link rel="prefetch" href="/assets/index.html-wvjhca2H.js" as="script"><link rel="prefetch" href="/assets/todo-list.html-CwWuFFjd.js" as="script"><link rel="prefetch" href="/assets/API.html-BgNgdqMX.js" as="script"><link rel="prefetch" href="/assets/Manifest.html-Dl0Fg2Lc.js" as="script"><link rel="prefetch" href="/assets/QwebæŠ¥è¡¨.html-v_mgbICg.js" as="script"><link rel="prefetch" href="/assets/åŠ¨ä½œ.html-BCEIK7WI.js" as="script"><link rel="prefetch" href="/assets/åŸºæœ¬å­—æ®µ.html-CVTdaYnc.js" as="script"><link rel="prefetch" href="/assets/åŸºæœ¬è§†å›¾.html-CjKeu8l2.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®æ–‡ä»¶.html-N29OOa2S.js" as="script"><link rel="prefetch" href="/assets/æ¨¡å‹.html-Ezsanpbm.js" as="script"><link rel="prefetch" href="/assets/ç¯å¢ƒæ­å»º.html-DkWRE8oE.js" as="script"><link rel="prefetch" href="/assets/ç¬¬ä¸€ä¸ªæ¨¡å—.html-CwHgGGVZ.js" as="script"><link rel="prefetch" href="/assets/Mixin.html-BSFI7_j5.js" as="script"><link rel="prefetch" href="/assets/Qweb.html-BKAM01Zu.js" as="script"><link rel="prefetch" href="/assets/Xpath.html-BB1MqKCQ.js" as="script"><link rel="prefetch" href="/assets/äºŒè¿›åˆ¶å­—æ®µä¸é™„ä»¶.html-BLovFlI7.js" as="script"><link rel="prefetch" href="/assets/å›½é™…åŒ–.html-EYmu9IcR.js" as="script"><link rel="prefetch" href="/assets/æ§åˆ¶å™¨.html-DN4KsODU.js" as="script"><link rel="prefetch" href="/assets/æƒé™å®‰å…¨.html-IySTmQm7.js" as="script"><link rel="prefetch" href="/assets/ç»§æ‰¿.html-CcZaqJGT.js" as="script"><link rel="prefetch" href="/assets/èœå•.html-BnAdS9AH.js" as="script"><link rel="prefetch" href="/assets/Assets.html-DNxm_-Sy.js" as="script"><link rel="prefetch" href="/assets/Hooks.html-CIwYUHfD.js" as="script"><link rel="prefetch" href="/assets/JavaScriptæ¨¡å—.html-CR9Vcjbl.js" as="script"><link rel="prefetch" href="/assets/JavascriptæŒ‡å—.html-BvhKBGr7.js" as="script"><link rel="prefetch" href="/assets/OWL Components.html-F9CozhJq.js" as="script"><link rel="prefetch" href="/assets/Patch.html-D2jknUpt.js" as="script"><link rel="prefetch" href="/assets/Registries.html-QqdhHvZS.js" as="script"><link rel="prefetch" href="/assets/Services.html-19kg-OGt.js" as="script"><link rel="prefetch" href="/assets/404.html-B5zNJmtc.js" as="script"><link rel="prefetch" href="/assets/index.html-DAWZ7nnY.js" as="script"><link rel="prefetch" href="/assets/index.html-BCubVUif.js" as="script"><link rel="prefetch" href="/assets/index.html-C_iRBZug.js" as="script"><link rel="prefetch" href="/assets/index.html-BtcbWUNT.js" as="script"><link rel="prefetch" href="/assets/index.html-BsNvImHN.js" as="script"><link rel="prefetch" href="/assets/giscus-DrGxERkK.js" as="script"><link rel="prefetch" href="/assets/index-BzBQJFYZ.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-D2Nf-uDI.js" as="script"><link rel="prefetch" href="/assets/SearchResult-CgGGRCl5.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo light" src="/logo.png" alt><img class="vp-nav-logo dark" src="/logo-dark.png" alt><span class="vp-site-name hide-in-pad">Blog</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!----><!----></div><div class="vp-navbar-end"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æœåŠ¡ç«¯å¼€å‘"><!--[--><!---->æœåŠ¡ç«¯å¼€å‘<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/pages/web-server/odoo/" aria-label="odoo"><!---->odoo<!----></a></li></ul></button></div></div></nav><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/user-hope/user-hope.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/" aria-label="å‰è¨€"><!---->å‰è¨€<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">ç¬¬ä¸€éƒ¨åˆ†: åŸºç¡€çŸ¥è¯†</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" aria-label="ä¸€. ç¯å¢ƒæ­å»º"><!---->ä¸€. ç¯å¢ƒæ­å»º<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%A8%A1%E5%9D%97.html" aria-label="äºŒ. ç¬¬ä¸€ä¸ªæ¨¡å—"><!---->äºŒ. ç¬¬ä¸€ä¸ªæ¨¡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E5%9F%BA%E6%9C%AC%E5%AD%97%E6%AE%B5.html" aria-label="ä¸‰. åŸºæœ¬å­—æ®µ"><!---->ä¸‰. åŸºæœ¬å­—æ®µ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E5%9F%BA%E6%9C%AC%E8%A7%86%E5%9B%BE.html" aria-label="å››. åŸºæœ¬è§†å›¾"><!---->å››. åŸºæœ¬è§†å›¾<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/API.html" aria-label="äº”. API"><!---->äº”. API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E6%A8%A1%E5%9E%8B.html" aria-label="å…­. æ¨¡å‹"><!---->å…­. æ¨¡å‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6.html" aria-label="ä¸ƒ. æ•°æ®æ–‡ä»¶"><!---->ä¸ƒ. æ•°æ®æ–‡ä»¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/%E5%8A%A8%E4%BD%9C.html" aria-label="å…«. åŠ¨ä½œ"><!---->å…«. åŠ¨ä½œ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/Qweb%E6%8A%A5%E8%A1%A8.html" aria-label="ä¹. QwebæŠ¥è¡¨"><!---->ä¹. QwebæŠ¥è¡¨<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-01/Manifest.html" aria-label="å. Manifest"><!---->å. Manifest<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><!----><span class="vp-sidebar-title">ç¬¬äºŒéƒ¨åˆ†: åŸºç¡€æ‰©å±•</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E6%9D%83%E9%99%90%E5%AE%89%E5%85%A8.html" aria-label="ä¸€. æƒé™å®‰å…¨"><!---->ä¸€. æƒé™å®‰å…¨<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E6%8E%A7%E5%88%B6%E5%99%A8.html" aria-label="äºŒ. æ§åˆ¶å™¨"><!---->äºŒ. æ§åˆ¶å™¨<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/Mixin.html" aria-label="ä¸‰. Mixin"><!---->ä¸‰. Mixin<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E5%9B%BD%E9%99%85%E5%8C%96.html" aria-label="å››. å›½é™…åŒ–"><!---->å››. å›½é™…åŒ–<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E7%BB%A7%E6%89%BF.html" aria-label="äº”. ç»§æ‰¿"><!---->äº”. ç»§æ‰¿<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/Qweb.html" aria-label="å…­. QWeb"><!---->å…­. QWeb<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/Xpath.html" aria-label="ä¸ƒ. Xpath"><!---->ä¸ƒ. Xpath<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E8%8F%9C%E5%8D%95.html" aria-label="å…«. èœå•"><!---->å…«. èœå•<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-02/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AD%97%E6%AE%B5%E4%B8%8E%E9%99%84%E4%BB%B6.html" aria-label="ä¹. äºŒè¿›åˆ¶å­—æ®µä¸é™„ä»¶"><!---->ä¹. äºŒè¿›åˆ¶å­—æ®µä¸é™„ä»¶<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><!----><span class="vp-sidebar-title">ç¬¬ä¸‰éƒ¨åˆ†: å‰ç«¯æ¡†æ¶</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/pages/web-server/odoo/section-03/%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0.html" aria-label="ä¸€. æ¡†æ¶æ¦‚è¿°"><!---->ä¸€. æ¡†æ¶æ¦‚è¿°<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Assets.html" aria-label="äºŒ. Assets"><!---->äºŒ. Assets<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/JavaScript%E6%A8%A1%E5%9D%97.html" aria-label="ä¸‰. JavaScriptæ¨¡å—"><!---->ä¸‰. JavaScriptæ¨¡å—<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/OWL%20Components.html" aria-label="å››. OWL Components"><!---->å››. OWL Components<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Registries.html" aria-label="äº”. Registries"><!---->äº”. Registries<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Services.html" aria-label="å…­. Services"><!---->å…­. Services<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Hooks.html" aria-label="ä¸ƒ. Hooks"><!---->ä¸ƒ. Hooks<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Patch.html" aria-label="å…«. Patch"><!---->å…«. Patch<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/web-server/odoo/section-03/Javascript%E6%8C%87%E5%8D%97.html" aria-label="ä¹. JavascriptæŒ‡å—"><!---->ä¹. JavascriptæŒ‡å—<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!----></h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/user-hope/user-hope.github.io" target="_blank" rel="noopener noreferrer">Mr.Hope</a></span><span property="author" content="Mr.Hope"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 10 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT10M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ¦‚è¿°">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä»£ç ç»“æ„">ä»£ç ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#web-å®¢æˆ·ç«¯æ¶æ„">Web å®¢æˆ·ç«¯æ¶æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#environment-envç¯å¢ƒ">Environment(envç¯å¢ƒ)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ„å»ºæ¨¡å—">æ„å»ºæ¨¡å—</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#registries">Registries</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#services">Services</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#components-and-hook">Components and Hook</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#context">Context</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#user-context">User Context</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#action-context">Action Context</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#python-è§£é‡Šå™¨">Python è§£é‡Šå™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#domains">Domains</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#bus">Bus</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#browser">Browser</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#debug-æ¨¡å¼">Debug æ¨¡å¼</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#assets-æ¨¡å¼">Assets æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tests-æ¨¡å¼">Tests æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ¿€æ´»æ–¹å¼">æ¿€æ´»æ–¹å¼</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°"><span>æ¦‚è¿°</span></a></h2><p>Odoo çš„ <code>Javascript</code> æ¡†æ¶æ˜¯ç”± js æ’ä»¶æä¾›çš„ä¸€ç»„åŠŸèƒ½æ¨¡å—, ç”¨æˆ·å¸®åŠ©æ„å»ºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ <code>odoo</code> åº”ç”¨ç¨‹åº, åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ç¨‹åº, é€šå¸¸æˆä¸º <code>web</code> å®¢æˆ·ç«¯(å¯ä»¥é€šè¿‡æµè§ˆå™¨çš„ url è®¿é—®);</p><p><code>web</code> å®¢æˆ·ç«¯æœ€åˆæ˜¯ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰ç±»å’Œå°éƒ¨ä»¶ç³»ç»Ÿåˆ¶ä½œçš„åº”ç”¨ç¨‹åº, ä½†æ˜¯ç°åœ¨æ­£åœ¨è¿‡æ¸¡åˆ° <code>class</code> ç±»å’Œ <code>owl</code> ä½œä¸ºç»„ä»¶çš„ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨çš„æºä»£ç ä¸­åŒæ—¶å­˜åœ¨ <code>owl</code> çš„ç»„ä»¶æ‰©å±•å’Œ åŸ <code>cmd</code> æ¨¡å¼çš„æ¨¡å—åŒ–æ‰©å±•;</p><blockquote><p>åœ¨ odoo ç”Ÿæ€ç³»ç»Ÿä¸­, å‰ç«¯å’Œåç«¯è¿™ä¸¤ä¸ªè¯åˆ†åˆ«è§†ä¸º odoo ç½‘ç«™ å’Œ web å®¢æˆ·ç«¯çš„åŒä¹‰è¯, è¿™ä¸€ç‚¹å¾ˆå¸¸è§, ä¸è¦å°†æ­¤æœ¯è¯­ä¸å¸¸è§„çš„æµè§ˆå™¨ä»£ç (å‰ç«¯) å’ŒæœåŠ¡å™¨ä»£ç (åç«¯) æ··æ·†;</p></blockquote><p>åœ¨åé¢çš„æ–‡æ¡£ä¸­, <code>component</code> å§‹ç»ˆæŒ‡çš„æ˜¯æ–°çš„ owl ç»„ä»¶, è€Œ <code>widget</code> åˆ™æŒ‡çš„æ˜¯æ—§çš„ odoo çš„å°éƒ¨ä»¶; å¦‚æœå¯ä»¥, å»ºè®®æ‰€æœ‰çš„å®¢æˆ·ç«¯å¼€å‘éƒ½ä½¿ç”¨ <code>owl</code> æ¥å®Œæˆ;</p><h2 id="ä»£ç ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ä»£ç ç»“æ„"><span>ä»£ç ç»“æ„</span></a></h2><p><code>addons/web/static/src</code> æ–‡ä»¶å¤¹åŒ…å«æ‰€æœ‰çš„ <code>web/javascript</code> ä»¥åŠ css å’Œæ¨¡æ¿; ä»¥ä¸‹æ˜¯æœ€é‡è¦çš„æ–‡ä»¶å¤¹çš„åˆ—è¡¨:</p><ul><li><strong><code>core/</code></strong>: æ ¸å¿ƒåŠŸèƒ½, å¤§å¤šæ•°çš„ç»„ä»¶éƒ½æ˜¯åŸºäº core;</li><li><strong><code>fields/</code></strong>: æ‰€æœ‰çš„å­—æ®µç±»å‹çš„ component ç»„ä»¶;</li><li><strong><code>views/</code></strong>: odoo ä¸­æ‰€æœ‰çš„è§†å›¾ component ç»„ä»¶;</li><li><strong><code>search/</code></strong>: <code>control panel</code>, <code>search bar</code>, <code>search panel</code>...</li><li><strong><code>webclient/</code></strong>: web å®¢æˆ·ç«¯ç‰¹å®šçš„ä»£ç : å¯¼èˆªæ ã€ç”¨æˆ·èœå•ã€æ“ä½œæœåŠ¡...</li></ul><p><code>web/static/src</code> æ˜¯æ ¹æ–‡ä»¶å¤¹, é‡Œé¢çš„æ‰€æœ‰å†…å®¹éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>@web</code> å‰ç¼€ç®€å•åœ°å¯¼å…¥; ä¾‹å¦‚, ä»¥ä¸‹æ˜¯å¦‚ä½•å¯¼å…¥ä½äº <code>web/static/src/core/utils/functions</code> ä¸­çš„ <code>memoize</code> å‡½æ•°:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">memoize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@web/core/utils/functions&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="web-å®¢æˆ·ç«¯æ¶æ„" tabindex="-1"><a class="header-anchor" href="#web-å®¢æˆ·ç«¯æ¶æ„"><span>Web å®¢æˆ·ç«¯æ¶æ„</span></a></h2><p>å¦‚ä¸Šæ‰€è¿°, Web å®¢æˆ·ç«¯æ˜¯ä¸€ä¸ª owl åº”ç”¨ç¨‹åº. è¿™æ˜¯å…¶æ¨¡æ¿çš„ç¨å¾®ç®€åŒ–çš„ç‰ˆæœ¬:</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> t-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;web.WebClient&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> owl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;o_web_client&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NavBar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ActionContainer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">MainComponentsContainer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚ä¸Š, å®ƒåŸºæœ¬ä¸Šæ˜¯å¯¼èˆªæ ã€å½“å‰æ“ä½œå’Œä¸€äº›é™„åŠ ç»„ä»¶çš„å®¹å™¨, <code>ActionContainer</code> æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶, å®ƒå°†æ˜¾ç¤ºå½“å‰æ“ä½œæ§åˆ¶å™¨(å®¢æˆ·ç«¯æ“ä½œ, æˆ–è€…åœ¨ç±»å‹ä¸º <code>act_window</code> çš„æ“ä½œçš„æƒ…å†µä¸‹çš„ç‰¹å®šè§†å›¾), ç®¡ç† <code>actions</code> æ˜¯å…¶å·¥ä½œçš„é‡è¦ç»„æˆéƒ¨åˆ†; <code>action service</code> åœ¨å†…å­˜ä¸­ä¿å­˜æ‰€æœ‰æ´»åŠ¨æ“ä½œçš„å †æ ˆ (åœ¨é¢åŒ…å±‘ä¸­è¡¨ç¤º), å¹¶åè°ƒæ¯ä¸ªæ›´æ”¹;</p><p>å¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„æœ‰è¶£çš„äº‹æƒ…æ˜¯ <code>MainComponentsContainer</code>, å®ƒåªæ˜¯ä¸€ä¸ªæ˜¾ç¤ºåœ¨ <code>main_components</code> æ³¨å†Œè¡¨ä¸­æ³¨å†Œçš„æ‰€æœ‰ç»„ä»¶çš„ç»„ä»¶. è¿™å°±æ˜¯ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†æ‰©å±• <code>Web</code> å®¢æˆ·ç«¯çš„æ–¹å¼;</p><h2 id="environment-envç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#environment-envç¯å¢ƒ"><span>Environment(envç¯å¢ƒ)</span></a></h2><p>ä½œä¸º Owl åº”ç”¨ç¨‹åº, Odoo Web å®¢æˆ·ç«¯å®šä¹‰äº†è‡ªå·±çš„ç¯å¢ƒ (ç»„ä»¶å¯ä»¥ä½¿ç”¨ <code>this.env</code> è®¿é—®å®ƒ), ä»¥ä¸‹æ˜¯ <code>odoo</code> æ·»åŠ åˆ°å…±äº« <code>env</code> å¯¹è±¡çš„å†…å®¹:</p><ul><li><strong><code>qweb</code></strong>: owl çš„ä¾èµ–, åŒ…å«æ‰€æœ‰çš„æ¨¡æ¿;</li><li><strong><code>bus</code></strong>: <a class="route-link" href="/pages/web-server/odoo/section-03/%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0.html#bus">Bus</a>å¯¹è±¡, ç”¨äºåè°ƒä¸€äº›é€šç”¨äº‹ä»¶;</li><li><strong><code>services</code></strong>: è®¿é—®æ‰€æœ‰å·²æ³¨å†Œçš„æœåŠ¡, é€šå¸¸åº”è¯¥ä½¿ç”¨ <code>useService</code> hook æ¥è®¿é—®;</li><li><strong><code>debug</code></strong>: å¦‚æœéç©º, åˆ™ <code>Web</code> å®¢æˆ·ç«¯å¤„äºè°ƒè¯•æ¨¡å¼;</li><li><strong><code>_t</code></strong>: ç¿»è¯‘å‡½æ•°;</li><li><strong><code>isSmall</code></strong>: å¦‚æœä¸º <code>true</code>, åˆ™ <code>Web</code> å®¢æˆ·ç«¯å½“å‰å¤„äºç§»åŠ¨ç«¯æ¨¡å¼ (å±å¹•å®½åº¦ &lt;= 767px)</li></ul><p>ä¾‹å¦‚: è¦ç¿»è¯‘ç»„ä»¶ä¸­çš„å­—ç¬¦ä¸² (æ³¨æ„: æ¨¡æ¿ä¼šè‡ªåŠ¨ç¿»è¯‘, å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ä¸éœ€è¦ç‰¹å®šæ“ä½œ) å¯ä»¥è¿™æ ·åš:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> someString</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;some text&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="æ„å»ºæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#æ„å»ºæ¨¡å—"><span>æ„å»ºæ¨¡å—</span></a></h2><p>å¤§å¤šæ•°çš„ web å®¢æˆ·ç«¯æ˜¯ç”±å‡ ç§ç±»çš„æŠ½è±¡æ–¹æ³•æ„å»ºçš„: <code>registries</code>, <code>services</code>, <code>components</code> å’Œ <code>hooks</code>;</p><h3 id="registries" tabindex="-1"><a class="header-anchor" href="#registries"><span>Registries</span></a></h3><p><code>Registries</code> åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„ <code>key/value</code> çš„æ˜ å°„, ç”¨äºå­˜å‚¨æŸäº›ç‰¹å®šçš„ç±»å‹çš„å¯¹è±¡, å®ƒä»¬æ˜¯ UI å¯æ‰©å±•æ€§çš„é‡è¦ç»„æˆéƒ¨åˆ†, ä¸€æ—¦æ³¨å†Œäº†æŸä¸ªå¯¹è±¡, Web å®¢æˆ·ç«¯çš„å…¶ä½™éƒ¨åˆ†å°±å¯ä»¥ä½¿ç”¨å®ƒ, ä¾‹å¦‚: <code>field_registry</code> æ³¨å†Œå¯ä»¥åœ¨è§†å›¾ä¸­ä½¿ç”¨çš„ä»»ä½•å­—æ®µçš„ <code>component</code> ç»„ä»¶æˆ– <code>widget</code> ç»„ä»¶;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@web/core/registry&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyFieldChar</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#50A14F;--shiki-dark:#E5C07B;"> owl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // some code</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">category</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fields&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;my_field_char&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">MyFieldChar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„, æˆ‘ä»¬ä½¿ç”¨ <code>@web/core/registry</code> å¯¼å…¥äº†æ³¨å†Œå‡½æ•°, ç„¶åè°ƒç”¨äº†æ³¨å†Œå­—æ®µå‡½æ•°;</p><h3 id="services" tabindex="-1"><a class="header-anchor" href="#services"><span>Services</span></a></h3><p><code>Services</code> æ˜¯æä¾›åŠŸèƒ½çš„é•¿æœŸå­˜åœ¨çš„ä»£ç ç‰‡æ®µ, å®ƒä»¬å¯ä»¥ç”± <code>component</code> (ä½¿ç”¨ <code>useService</code>) æˆ–å…¶å®ƒæ–¹å¼å¯¼å…¥; æ­¤å¤–, ä»–ä»¬è¿˜å¯ä»¥å£°æ˜ä¸€ç»„ä¾èµ–é¡¹, ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´, æœåŠ¡åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ª DI (ä¾èµ–æ³¨å…¥) ç³»ç»Ÿ;</p><p>ä¾‹å¦‚: <code>notification service</code> æä¾›äº†ä¸€ç§æ˜¾ç¤ºé€šçŸ¥çš„æ–¹æ³•, æˆ–è€… <code>rpc service</code> å‘ Odoo æœåŠ¡å™¨æ‰§è¡Œè¯·æ±‚çš„æ­£ç¡®æ–¹æ³•;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./core/registry&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> myService</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    dependencies</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;notification&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">notification</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> counter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">            notification</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Tick Tock </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">counter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">serviceRegistry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;myService&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">myService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="components-and-hook" tabindex="-1"><a class="header-anchor" href="#components-and-hook"><span>Components and Hook</span></a></h3><p><code>components</code> å’Œ <code>hooks</code> æ˜¯ <a href="https://github.com/odoo/owl/blob/master/doc/readme.md" target="_blank" rel="noopener noreferrer">owl ç»„ä»¶</a> ç³»ç»Ÿçš„åŠŸèƒ½, odoo çš„ <code>component</code> ç»„ä»¶æ˜¯ç”± owl æ„å»º, ä¹Ÿæ˜¯ web å®¢æˆ·ç«¯çš„ä¸€éƒ¨åˆ†;</p><p><a href="https://github.com/odoo/owl/blob/master/doc/reference/hooks.md" target="_blank" rel="noopener noreferrer"><code>hooks</code></a> æ˜¯ä¸€ç§åˆ†è§£ä»£ç çš„æ–¹æ³•, å³ä½¿å®ƒå–å†³äºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ, è¿™æ˜¯åœ¨ç»„ä»¶ä¸­æ³¨å…¥åŠŸèƒ½çš„ä¸€ç§ç»„åˆæ–¹å¼, å®ƒä»¬ä¹Ÿå¯ä»¥è¢«è§†ä¸ºä¸€ç§ <code>mixin</code>;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useCurrentTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">now</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() });</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> update</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">now</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> timer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    onWillStart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> timer</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    onWillUnmount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> clearInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">timer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="context" tabindex="-1"><a class="header-anchor" href="#context"><span>Context</span></a></h2><p>odoo javascript ä¸­çš„å¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µå°±æ˜¯ä¸Šä¸‹æ–‡: å®ƒä¸ºä»£ç æä¾›äº†ä¸€ç§ä¸ºå‡½æ•°è°ƒç”¨æˆ– rpcè°ƒç”¨ æä¾›äº†æ›´å¤šçš„ä¸Šä¸‹æ–‡çš„æ–¹æ³•; åœ¨æŸç§ç¨‹åº¦ä¸Š, å®ƒåƒæ˜¯ä¸€ä¸ªä¼ æ’­ä¿¡æ¯çš„åŒ…, åœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹ä¼šéå¸¸æœ‰ç”¨; ä¾‹å¦‚: è®© odoo æœåŠ¡å™¨çŸ¥é“æ¨¡å‹çš„ rpc æ˜¯æ¥è‡ªå“ªä¸€ä¸ªç‰¹å®šçš„è¡¨å•è§†å›¾, æˆ–è€…æ˜¯å¯ä»¥æ¿€æ´»/ç¦ç”¨ç»„ä»¶ä¸­çš„æŸäº›åŠŸèƒ½;</p><p>odoo web å®¢æˆ·ç«¯ä¸­æœ‰ä¸¤ç§ä¸åŒçš„ä¸Šä¸‹æ–‡, æ˜¯ <code>user context</code> å’Œ <code>action context</code>, å› æ­¤åœ¨ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡çš„æ—¶å€™åº”è¯¥è¦æ ¹æ®æƒ…å†µä½¿ç”¨;</p><h3 id="user-context" tabindex="-1"><a class="header-anchor" href="#user-context"><span>User Context</span></a></h3><p><code>user context</code> æ˜¯ä¸€ä¸ªå°çš„å¯¹è±¡, åŒ…å«ä¸å½“å‰ç”¨æˆ·ç›¸å…³çš„å„ç§ä¿¡æ¯, å®ƒå¯ä»¥é€šè¿‡ <code>useService</code> hook è·å¾—:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyComponent</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    setup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;user&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒ…å«ä»¥ä¸‹ä¿¡æ¯:</p><ul><li><strong><code>allowed_company_ids</code></strong>: ç”¨æˆ·çš„æ´»è·ƒå…¬å¸ ID åˆ—è¡¨;</li><li><strong><code>lang</code></strong>: ç”¨æˆ·å½“å‰ä½¿ç”¨è¯­è¨€çš„é¦–é€‰é¡¹ code;</li><li><strong><code>tz</code></strong>: ç”¨æˆ·å½“å‰æ—¶åŒº;</li></ul><h3 id="action-context" tabindex="-1"><a class="header-anchor" href="#action-context"><span>Action Context</span></a></h3><p><code>ir.actions.act_window</code> å’Œ <code>ir.actions.client</code> æ”¯æŒå¯é€‰çš„ä¸Šä¸‹æ–‡å­—æ®µ, è¯¥å­—æ®µæ˜¯ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å­—ç¬¦, æ¯å½“åœ¨ web å®¢æˆ·ç«¯ä¸­åŠ è½½ç›¸åº”çš„æ“ä½œçš„æ—¶å€™, æ­¤ä¸Šä¸‹æ–‡ä¼šè¢«è§£æä¸ºå¯¹è±¡, å¹¶æä¾›ç»™ä¸è¯¥æ“ä½œç›¸å¯¹åº”çš„ç»„ä»¶;</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">field</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;context&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;{&#39;search_default_customer&#39;: 1}&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">field</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒå¯ä»¥ä»¥å¤šç§ä¸åŒçš„æ–¹å¼ä½¿ç”¨, ä¾‹å¦‚: è§†å›¾å°†æ“ä½œä¸Šä¸‹æ–‡æ·»åŠ åˆ°å‘æœåŠ¡å™¨å‘å‡ºçš„æ¯ä¸€ä¸ªè¯·æ±‚, å¦ä¸€ä¸ªé‡è¦ç”¨é€”æ˜¯é»˜è®¤æ¿€æ´»æŸäº›æœç´¢è¿‡æ»¤å™¨(å‚è€ƒå¦‚ä¸Šä»£ç );</p><p>æœ‰æ—¶å€™, å½“æˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡Œæ–°æ“ä½œæ—¶(åœ¨ javascript ä¸­ä»¥ç¼–ç¨‹å¼çš„æ–¹å¼æ“ä½œ), èƒ½å¤Ÿæ‰©å±•æ“ä½œä¸Šä¸‹æ–‡ä¼šå¾ˆæœ‰ç”¨, è¿™å¯ä»¥é€šè¿‡ <code>additional_context</code> æ¥å®Œæˆ;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> actionService</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;action&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// in some event handler</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">actionService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doAction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;addon_name.something&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    additional_context</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        default_period_id</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> defaultPeriodId</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­, å°†åŠ è½½å¸¦æœ‰ <code>xml_id</code> ä¸º <code>addon_name.something</code> çš„æ“ä½œ, å¹¶ä¸”å…¶ä¸Šä¸‹æ–‡å°†ä½¿ç”¨ <code>default_period_id</code> å€¼è¿›è¡Œæ‰©å±•, è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç¤ºä¾‹; å®ƒå…è®¸å¼€å‘äººå‘˜é€šè¿‡ä¸ºä¸‹ä¸€ä¸ªæ“ä½œæä¾›ä¸€äº›ä¿¡æ¯æ¥å°†æ“ä½œç»„åˆåœ¨ä¸€èµ·;</p><h2 id="python-è§£é‡Šå™¨" tabindex="-1"><a class="header-anchor" href="#python-è§£é‡Šå™¨"><span>Python è§£é‡Šå™¨</span></a></h2><p>Odoo æ¡†æ¶å…·æœ‰å†…ç½®çš„å°å‹ <code>python</code> è§£é‡Šå™¨. å®ƒçš„ç›®çš„æ˜¯è¯„ä¼°å°çš„ <code>python</code> è¡¨è¾¾å¼. è¿™å¾ˆé‡è¦, å› ä¸º <code>Odoo</code> ä¸­çš„è§†å›¾æœ‰ç”¨ <code>python</code> ç¼–å†™çš„ä¿®é¥°ç¬¦, ä½†å®ƒä»¬éœ€è¦ç”±æµè§ˆå™¨è§£æ;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">evaluateExpr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@web/core/py_js/py&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">evaluateExpr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1 + 2*{&#39;a&#39;: 1}.get(&#39;b&#39;, 54) + v&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">v</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 33</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// returns 142</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>py</code> çš„ <code>javascript</code> è§£é‡Šå™¨å¯¼å‡ºäº† 5 ä¸ªå‡½æ•°:</p><ul><li><strong><code>tokenize(expr)</code></strong>: å‚æ•°ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸², å°†è¿”å›ä¸€ä¸ª token list;</li><li><strong><code>parse(tokens)</code></strong>: å‚æ•°ä¸º token list, å°†è¿”å›ä¸€ä¸ª ast è¡¨è¾¾å¼çš„æŠ½è±¡è¯­æ³•æ ‘ç»“æ„;</li><li><strong><code>parseExpr(expr)</code></strong>: å‚æ•°ä¸º æœ‰æ•ˆ python è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²;</li><li><strong><code>evaluate(ast[, context])</code></strong>: å‚æ•°ä¸º ast æŠ½è±¡æ ‘å’Œ é¢å¤–çš„ä¸Šä¸‹æ–‡å¯¹è±¡;</li><li><strong><code>evaluateExpr(expr[, context])</code></strong>: å‚æ•°ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸²å’Œé¢å¤–çš„ä¸Šä¸‹æ–‡å¯¹è±¡;</li></ul><h2 id="domains" tabindex="-1"><a class="header-anchor" href="#domains"><span>Domains</span></a></h2><p>ä»å¹¿ä¹‰ä¸Šè®², odoo ä¸­çš„ domain è¡¨è¾¾å¼åŒ¹é…æŸäº›æŒ‡å®šæ¡ä»¶çš„ä¸€ç»„è®°å½•, åœ¨ javascript ä¸­, å®ƒä»¬é€šå¸¸è¡¨ç¤ºä¸ºæ¡ä»¶åˆ—è¡¨(js è¯­æ³•) æˆ–å­—ç¬¦ä¸²è¡¨è¾¾å¼, å®ƒä»¬ä¸æ˜¯æ ‡å‡†åŒ–çš„, ä¾‹å¦‚:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ¡ä»¶åˆ—è¡¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&amp;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&amp;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&amp;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;|&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å­—ç¬¦ä¸²è¡¨è¾¾å¼</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[(&#39;some_file&#39;, &#39;&gt;&#39;, a)]&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[(&#39;date&#39;,&#39;&gt;=&#39;, (context_today() - datetime.timedelta(days=30)).strftime(&#39;%Y-%m-%d&#39;))]&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[(&#39;date&#39;, &#39;!=&#39;, False)]&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­—ç¬¦ä¸²è¡¨è¾¾å¼æ¯”åˆ—è¡¨è¡¨è¾¾å¼æ›´å¼ºå¤§, å®ƒä»¬å¯ä»¥åŒ…å« <code>python</code> è¡¨è¾¾å¼å’Œæœªè®¡ç®—çš„å€¼, è¿™å–å†³äºæŸäº›è®¡ç®—ä¸Šä¸‹æ–‡; ç„¶è€Œ, æ“ä½œå­—ç¬¦ä¸²è¡¨è¾¾å¼æ›´åŠ å›°éš¾(éœ€è¦ç†Ÿæ‚‰ python å’Œ odoo çš„æ¨¡å‹);</p><p>ç”±äº domain åœ¨ web å®¢æˆ·ç«¯ä¸­éå¸¸é‡è¦, å› æ­¤ odoo æä¾›äº†ä¸€ä¸ª Domain ç±»:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> domain</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&amp;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&amp;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">c</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">contains</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">c</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿”å› [&quot;|&quot;, (&quot;a&quot;, &quot;=&quot;, 1), (&quot;b&quot;, &quot;&lt;=&quot;, 3)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([[[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[(&#39;b&#39;, &#39;&lt;=&#39;, 3)]&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…·ä½“æºä»£ç è¯·æŸ¥çœ‹ addons/web/static/src/core/domain.js</p></blockquote><h2 id="bus" tabindex="-1"><a class="header-anchor" href="#bus"><span>Bus</span></a></h2><p>web å®¢æˆ·ç«¯ env å¯¹è±¡åŒ…å«ä¸€ä¸ªäº‹ä»¶æ€»çº¿, åä¸º bus, å…¶ç›®çš„æ˜¯è®©ç³»ç»Ÿçš„å„ä¸ªéƒ¨åˆ†èƒ½å¤Ÿæ­£ç¡®çš„è‡ªæˆ‘åè°ƒ, è€Œä¸ä¼šä½¿å®ƒä»¬è€¦åˆ, <code>env.bus</code> æ˜¯ä¸€ä¸ª owl çš„ <code>EventBus</code>, åº”è¯¥ç”¨äºæ„Ÿå…´è¶£çš„å…¨å±€äº‹ä»¶;</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">bus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;WEB_CLIENT_READY&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">doSomething</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä»¥ä¸‹æ˜¯å¯ä»¥åœ¨æ­¤æ€»çº¿ä¸Šè§¦å‘çš„äº‹ä»¶åˆ—è¡¨:</p><table><thead><tr><th>Message(æ¶ˆæ¯åç§°)</th><th>Payload(å‚æ•°)</th><th>Trigger(è§¦å‘åŠ¨ä½œ)</th></tr></thead><tbody><tr><td><code>ACTION_MANAGER:UI-UPDATED</code></td><td>UIçš„æ›´æ–°æ¨¡å¼( <code>current</code>, <code>new</code>, <code>fullscreen</code> )</td><td>action æ‰§è¡Œå®Œæˆä¹‹åçš„æ¸²æŸ“çŠ¶æ€</td></tr><tr><td><code>ACTION_MANAGER:UPDATE</code></td><td>ä¸‹ä¸€ä¸ªæ¸²æŸ“ä¿¡æ¯</td><td>åŠ¨ä½œç®¡ç†å™¨å·²å®Œæˆä¸‹ä¸€ä¸ªç•Œé¢çš„è®¡ç®—</td></tr><tr><td><code>MENUS:APP-CHANGED</code></td><td>none</td><td>èœå•æœåŠ¡çš„å½“å‰åº”ç”¨ç¨‹åºå·²æ›´æ”¹</td></tr><tr><td><code>ROUTE_CHANGE</code></td><td>none</td><td>url çš„ hash å€¼å‘ç”Ÿå˜åŒ–</td></tr><tr><td><code>RPC:REQUEST</code></td><td>rpc id</td><td>ä¸€ä¸ª rpc è¯·æ±‚å³å°†å‘é€</td></tr><tr><td><code>RPC:RESPONSE</code></td><td>rpc id</td><td>rpc è¯·æ±‚å®Œæˆæ—¶å€™è§¦å‘</td></tr><tr><td><code>WEB_CLIENT_READY</code></td><td>none</td><td>web å®¢æˆ·ç«¯æŒ‚è½½å®Œæˆ</td></tr><tr><td><code>FOCUS-VIEW</code></td><td>none</td><td>ä¸»è§†å›¾èšç„¦</td></tr><tr><td><code>CLEAR-CACHES</code></td><td>none</td><td>åº”æ¸…é™¤æ‰€æœ‰å†…éƒ¨ç¼“å­˜</td></tr><tr><td><code>CLEAR-UNCOMMITTED-CHANGES</code></td><td>å‡½æ•°åˆ—è¡¨</td><td>æ‰€æœ‰å…·æœ‰æœªæäº¤æ›´æ”¹çš„è§†å›¾éƒ½åº”æ¸…é™¤å®ƒä»¬,å¹¶åœ¨åˆ—è¡¨ä¸­æ¨é€å›è°ƒ</td></tr></tbody></table><h2 id="browser" tabindex="-1"><a class="header-anchor" href="#browser"><span>Browser</span></a></h2><p><code>javascript</code> æ¡†æ¶è¿˜æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡æµè§ˆå™¨, å¯ä»¥è®¿é—®è®¸å¤šæµè§ˆå™¨ <code>API</code>, ä¾‹å¦‚ <code>location</code>ã€<code>localStorage</code> æˆ– <code>setTimeout</code>, ç¤ºä¾‹:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">browser</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@web/core/browser/browser&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// somewhere in code</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">browser</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">someFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™åœ¨ web ç«¯å¯èƒ½æ²¡ä»€ä¹ˆä½œç”¨, å¯¹äºæµ‹è¯•ç”¨ä¾‹æ¥è¯´, æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„, å¯ä»¥åœ¨æµ‹è¯•æœŸé—´æ¨¡æ‹Ÿç›¸å…³å‡½æ•°, è½»æ¾æµ‹è¯•æ‰€æœ‰ä½¿ç”¨æµè§ˆå™¨å¯¹è±¡çš„ä»£ç ; ä»¥ä¸‹æ˜¯ <code>browser</code> ä¸‹æä¾›çš„æ–¹æ³•:</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cancelAnimationFrame</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">clearInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">clearTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">history</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">removeEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">requestAnimationFrame</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">sessionStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">setInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">XMLHttpRequest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debug-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#debug-æ¨¡å¼"><span>Debug æ¨¡å¼</span></a></h2><p>Odoo æœ‰æ—¶å¯ä»¥åœ¨ç§°ä¸ºè°ƒè¯•æ¨¡å¼çš„ç‰¹æ®Šæ¨¡å¼ä¸‹è¿è¡Œ, å®ƒæœ‰ä¸¤ä¸ªä¸»è¦ç”¨é€”:</p><ul><li>æ˜¾ç¤ºæŸäº›è§†å›¾ä¸‹ç‰¹å®šçš„é™„åŠ ä¿¡æ¯/å­—æ®µ;</li><li>æä¾›ä¸€äº›é¢å¤–çš„å·¥å…·æ¥å¸®åŠ©å¼€å‘äººå‘˜è°ƒè¯• Odoo ç•Œé¢;</li></ul><p><code>debug</code> æ¨¡å¼ç”±å­—ç¬¦ä¸²æè¿°, ç©ºå­—ç¬¦ä¸²è¡¨ç¤º <code>debug</code> æ¨¡å¼æœªæ¿€æ´», å¦åˆ™å°±æ˜¯æ¿€æ´»çš„; å¦‚æœå­—ç¬¦ä¸²åŒ…å« <code>assets</code> æˆ– <code>tests</code>, åˆ™æ¿€æ´»ç›¸åº”çš„ç‰¹å®šå­æ¨¡å¼, ä¸¤ç§æ¨¡å¼å¯ä»¥åŒæ—¶æ¿€æ´», ä¾‹å¦‚ä½¿ç”¨å­—ç¬¦ä¸² <code>assets,tests</code>;</p><p>è°ƒè¯•æ¨¡å¼å½“å‰å€¼å¯ä»¥åœ¨ç¯å¢ƒä¸­è¯»å– <code>env.debug</code>;</p><blockquote><p>å°æŠ€å·§: è¦ä»…åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æ˜¾ç¤ºèœå•ã€å­—æ®µæˆ–è§†å›¾å…ƒç´ , æ‚¨åº”è¯¥ç»™å­—æ®µæ·»åŠ ç”¨æˆ·ç»„ <code>base.group_no_one</code></p></blockquote><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">field</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;field_name&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> groups</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;base.group_no_one&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="assets-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#assets-æ¨¡å¼"><span>Assets æ¨¡å¼</span></a></h3><p><code>debug=assets</code> æ¨¡å¼å¯¹è°ƒè¯• javascript ä»£ç éå¸¸æœ‰ç”¨, ä¸€æ—¦æ¿€æ´», <code>assets</code> èµ„æºå°†ä¸å†è¢«å‹ç¼©, å¹¶ä¸”è¿˜ä¼šç”Ÿæˆ <code>sourceMap</code> æ˜ å°„, è¿™ä½¿è°ƒè¯•æ‰€æœ‰ç±»å‹çš„ <code>javascript</code> ä»£ç éå¸¸æœ‰ç”¨;</p><h3 id="tests-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#tests-æ¨¡å¼"><span>Tests æ¨¡å¼</span></a></h3><p>è¿˜æœ‰å¦ä¸€ä¸ªåä¸º <code>tests</code> çš„å­æ¨¡å¼, å¦‚æœå¯ç”¨, æœåŠ¡å™¨ä¼šåœ¨é¡µé¢ä¸­æ³¨å…¥åŒ… <code>web.assets_tests</code>, è¯¥ <code>bundle</code> èµ„æºä¸»è¦åŒ…å«æµ‹è¯•ç”¨ä¾‹,</p><h3 id="æ¿€æ´»æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ¿€æ´»æ–¹å¼"><span>æ¿€æ´»æ–¹å¼</span></a></h3><ol><li>url æ¿€æ´», è¿™ä¸ªä¸ç”¨è¯¦ç»†è¯´æ˜, å‰é¢çš„ç« èŠ‚å·²ç»æè¿°è¿‡, åœ¨ url çš„ <code>web?debug=1</code> å³å¯;</li><li>é€šè¿‡å‘½ä»¤é¢æ¿æ¿€æ´», åœ¨ Odoo ä¸­, å‘½ä»¤è°ƒæ¿å·¥å…·æœ‰ä¸€ä¸ªæ¿€æ´»è°ƒè¯•æ¨¡å¼çš„å‘½ä»¤; ä½¿ç”¨é”®ç›˜å¿«æ·é”® ctrl+k æ‰“å¼€å‘½ä»¤è°ƒè‰²æ¿å·¥å…·, ç„¶åè¾“å…¥ <code>debug</code>;</li></ol><figure><img src="/images/odoo/S21/debug.png" alt="debug" tabindex="0" loading="lazy"><figcaption>debug</figcaption></figure></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/user-hope/user-hope.github.io/edit/main/src/pages/web-server/odoo/section-03/æ¡†æ¶æ¦‚è¿°.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/pages/web-server/odoo/section-02/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AD%97%E6%AE%B5%E4%B8%8E%E9%99%84%E4%BB%B6.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!----><!----></div></a><a class="route-link auto-link next" href="/pages/web-server/odoo/section-03/Assets.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link"><!----><!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-cr7GvDUH.js" defer></script>
  </body>
</html>
